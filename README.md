<h1 align="center"> Консольное приложение для системы управления библиотекой </h1>

## Содержание
- [Описание](#Описание)
- [Структура проекта](#Структура_проекта)
- [Установка и запуск](#Установка_и_запуск)
- [Примеры работы](#Примеры_работы)
- [Тестирование](#Тестирование)
- [Лицензия](#Лицензия)
- [Контакты](#Контакты)

## <h2 align="center"> Описание </h2>
___
Данное проект позволяет каждому желающему установить на своё устройство
приложение для хранения, изменения и поиска книг.

Информация которую можно хранить о книгах:
<ul>
    <li>id - уникальный идентификатор (генерируется автоматически)</li>
    <li>title - название книги</li>
    <li>author - автор книги</li>
    <li>year - год издания</li>
    <li>status - статус ("в наличии" или "выдана")</li>
</ul>


## <h2 align="center"> Структура_проекта </h2>
___
Проект был создан по структуре MVC (Model-View-Controller).
```
app
│   conftest.py               
│   controller.py   #Связь между view и models, валидация данных            
│   database.py     #Получение пути к базе данных          
│   exceptions.py   #Ошибки, возникающие в процесее использования приложения            
│   main.py         #Главный файл            
│   models.py       #Работа с базой данных            
│   settings.py     #Получение данных из .end файла          
│   utils.py        #Дополнительные функции          
│   view.py         #Визуализация            
│
├───src             #Хранилище баз данных
│       data.json
│       test_data.json
│
├───tests              
    │   conftest.py
    │   mock_data.json          #Данные для заполнения тестовой базы данных
    │
    ├───unit_tests              #unit тесты для models и controller
        │   test_controller.py
        │   test_model.py

```
База данных реализована в формате JSON. По умолчанию они находятся в директории src. При изменении 
расположения бд или изменения названия, необходимо изменить значения в .env_non_dev
```
MODE=PROD

PATH_BASE=app/src/data.json
PATH_TEST=app/src/test_data.json
```
## <h2 align="center">Установка_и_запуск</h2>
___
Для начала работы с приложением сделайте следующие шаги:
<ol>
    <li> Скачайте проект с git репозитория:
        
    git clone https://github.com/Ostap2002-arch/mini-library.git
</li>
    <li>Из коря проекта выполните команду:
    
    python app/main.py
</li>
    <li>При тестировании установите библиотеки (можно установить в ручную pytest, но для 
корректной работы рекомендуется первый способ):
    
     pip install -r requirements.txt
</li>
</ol>
Если всё сделано правильно, то перед вами появиться интерфейс приложения

```
                Меню                       
-------------------------------------------
      add - Добавить новую книгу           
      del - Удалить книгу по id            
      find - Найти книги                   
      ls - Получить все книги              
      update - Изменение статуса книги     
      help() - Повторение информации         
      exit() - Выход из приложения           
-------------------------------------------
```



## <h2 align="center">Примеры_работы</h2>
___
В данном разделе будет приведён пример добавления книги. Для полного ознакомления функционала 
рекомендуется ознакомиться лично с приложением.
<ol>
<li>После запуска приложения посмотрим список книг, установленных по умолчанию</li>

    >>ls
    --------------------------------------------------------------------
    id | title                    | author            | year | status
    --------------------------------------------------------------------
    1  | 1984                     | Джордж Оруэлл     | 1949 | в наличии
    2  | Хорошо быть тихоней      | С.Е. Хинтон       | 1967 | в наличии
    3  | Мастер и Маргарита       | Михаил Булгаков   | 1967 | в наличии
    4  | Убить пересмешника       | Харпер Ли         | 1960 | в наличии
    5  | Преступление и наказание | Фёдор Достоевский | 1866 | в наличии
    --------------------------------------------------------------------
<li>Добавим новую книгу</li>
    
    >>add
    Введите название книги: А зори здесь тихие...
    Введите имя и автора книги: Васильев Б.Л.
    Введите год публикации книги: 1969
    Успешно добавлена книга с id = 6
<li>Проверяем список книг заново и видим, что книга добавилась в каталог</li>
    
    >>ls                                                                                     
    --------------------------------------------------------------------
    id | title                    | author            | year | status   
    --------------------------------------------------------------------
    1  | 1984                     | Джордж Оруэлл     | 1949 | в наличии
    2  | Хорошо быть тихоней      | С.Е. Хинтон       | 1967 | в наличии
    3  | Мастер и Маргарита       | Михаил Булгаков   | 1967 | в наличии
    4  | Убить пересмешника       | Харпер Ли         | 1960 | в наличии
    5  | Преступление и наказание | Фёдор Достоевский | 1866 | в наличии
    6  | А зори здесь тихие...    | Васильев Б.Л.     | 1969 | в наличии
    --------------------------------------------------------------------

</ol>

## <h2 align="center">Тестирование</h2>
___
Тестами покрыты controller и models. В тестах на controller проверяется правильность валидации данных на 
вход и передача данных models. В тестах на models проверятся правильность внесенных изменений в базу данных.

Для начала тестирования необходимо из корня проекта выполнить команду:
```
pytest
```
После тестирования в консоли появится информация о тестах, их кол-ве и времени выполнения (всего тестов должно быть 59)
## <h2 align="center">Лицензия</h2>
___
Этот проект лицензирован под лицензией MIT. См. [LICENSE](LICENSE) для подробной информации.
## <h2 align="center">Контакты</h2>
___
**телефон**: +7(911) 892-04-79 

**mail**: yevstafiyt2021@mail.ru

**telegram**: @Ostap20002

**vk**: https://vk.com/id207571262
